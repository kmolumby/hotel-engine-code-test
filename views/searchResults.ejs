<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Lato|Merriweather" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
        crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css" type="text/css">
</head>
<body>
    <nav class="navbar navbar-light bg-light justify-content-between">
        <a href="/"><img src="../images/git_hub_logo_nav.png" width="80px" height="80px"></a>
        <form action="/repository/search" method="POST" class="form-inline my-2 my-lg-0 github-form">
            <input class="form-control mr-sm-2 " type="search" placeholder="New Search" aria-label="Search" name="q">
            <button class="btn btn-info  my-2 my-sm-0 form-button" type="submit">Search <i class="fas fa-search"></i></button>
        </form>
    </nav>
    <div class="container pull-request-list">
        <div class="header">
            <div class="row">
                <div class="col-lg-2">
                </div>
                <div class="col-xs-12 col-lg-8 d-flex">
                    <h2><b>Repo Name:</b>
                        <%=repo%>
                    </h2><br />
                </div>
                <div class="col-lg-2">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-2">
                </div>
                <div class="col-xs-12 col-lg-8 d-flex ">
                    <h2><b>Repo Owner: </b>
                        <%=user%>
                    </h2>
                </div>
                <div class="col-lg-2">

                </div>
            </div>
            <div class="row">
                <div class="col-lg-2">

                </div>
                <div class="col-xs-12 col-lg-8 d-flex ">
                    <h2><b>Open Pull Requests: </b>
                        <%=pullData.length%>
                    </h2>
                </div>
                <div class="col-lg-2">
                </div>
            </div>
        </div>

        <% for (let i= 0; i < pullData.length; i ++) { %>
        <div class="row">
            <div class="col-lg-2">
            </div>
            <div class="col-xs-12 col-lg-8  justify-content-center pull-request-cards">
                <div class="card">
                    <div class="card-body">
                        <img class="card-element" src="../images/git_pull_request_icon.png" width="30px" height="30px">
                        <h3 class="card-title">
                            <%=pullData[i].title %>
                        </h3>
                        <form action="/repository/show" method="get" class="form-inline my-2 my-lg-0">
                            <input class="form-control mr-sm-2" type="hidden" placeholder="Enter a github repository url"
                                aria-label="Search" name="q" value="<%=pullData[i].url %>">
                            <button class=" card-element btn btn-success my-2 my-sm-0" type="submit">View More Details
                                About This Pull Request</button>
                        </form>
                        <p class="card-element"><b>Opened by: </b>
                            <%= pullData[i].user.login %>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
            </div>
        </div>
        <% } %>
    </div>
</body>
</html>